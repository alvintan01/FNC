<!DOCTYPE html>
<head>
<title>Drink Preparation Time</title>
<meta http-equiv="refresh" content="300"/>
    <script type="text/javascript" src="https://code.jquery.com/jquery3.2.1.js"></script> 
    <script type="text/javascript" src="https://www.google.com/jsapi"></script> 
	<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='stylesheet.css') }}">
    <script type="text/javascript"> 
	google.load('visualization', '1', {'packages':['corechart']}); 
	google.setOnLoadCallback(drawChart); 
	function drawChart() { 
		var data = new google.visualization.DataTable();
		data.addColumn('string', 'Hour')
		data.addColumn('number','Time Taken (s)');
		data.addRows([
			{%- for timeinfo, valueinfo in datapython[0] %}
				['{{ timeinfo }}', {{valueinfo}}],
			{%- endfor %}
		]);

		var chart = new google.visualization.LineChart(document.getElementById('chart_div'));
		chart.draw(data, {title: 'Average drink preparation time for the day', legend: 'none', hAxis: {title: 'Hour (24Hr Format)'}, vAxis: {baseline: 0, title: 'Time Taken (s)', format: '#'}, colors: ['#A0D100']});
	}
	</script>
	<script>
		$(document).ready(function(){
			setInterval(function(){
				location.reload();
				//drawChart();
			},3000);
		});
	</script>
 </head>
 <body>

<div id="navdiv">
<ul>
  <li><a id="nav">F&#38;C</a></li>  
  <li><a href="/revenue" id="nav">Revenue</a></li>
  <li><a href="/history" id="nav">Order History</a></li>
  <li><a href="/count" id="nav">Traffic</a></li>
  <li><a href="/firealarm" id="nav">Fire Alarm</a></li>
  <li><a href="/foodpreparationtime" id="nav">Food Prep. Time</a></li>
  <li><a href="/drinkpreparationtime" class="active" id="nav">Drink Prep. Time</a></li>
  <li><a href="/logout" id="logout">Logout</a></li>
</ul>
</div>
<a href="/logout" id="logout">Logout</a>
<div class="container">
		<h2>Average drink preparation time for the day</h2>
		<div id="chart_div"></div>
		<div id="centerdiv">
			<table id="profittable" class="display" cellspacing="0" width="50%">
				<tr>
				<th>Hour</th>
				<th>Time Taken in Seconds</th>
				</tr>
				{%- for timeinfo, valueinfo in datapython[1] %}
				<tr>
				<td>{{ timeinfo }}</td><td>{{valueinfo}}</td>
				</tr>
			{%- endfor %}
			</table>
		</div>
	</div>

</body>
</html>